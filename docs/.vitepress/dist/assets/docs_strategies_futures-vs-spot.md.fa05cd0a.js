import{_ as s,o as e,c as o,Q as t}from"./chunks/framework.4719a631.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/strategies/futures-vs-spot.md","filePath":"docs/strategies/futures-vs-spot.md"}'),a={name:"docs/strategies/futures-vs-spot.md"},n=t(`<h2 id="differences-between-spot-and-futures-modes" tabindex="-1">Differences between &quot;spot&quot; and &quot;futures&quot; modes <a class="header-anchor" href="#differences-between-spot-and-futures-modes" aria-label="Permalink to &quot;Differences between &quot;spot&quot; and &quot;futures&quot; modes&quot;">â€‹</a></h2><p>At the moment Jesse supports trading of perpetual futures in both backtest, and live trading. The spot support however has just been added for backtesting just and will soon be supported in live trading.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>On the settings page, you can select the trading mode for the exchange you&#39;re using. That means you can use candle data for your backtests from <code>Binance Spot</code> but run your backtests in the &quot;futures&quot; mode.</p><p>This is useful as spot exchanges usually provide more data than futures exchanges.</p></div><p>It&#39;s important to know the differences between spot and futures trading modes when writing your strategies.</p><ul><li>Short selling is not supported in spot trading so strategies should either avoid <code>should_short()</code> or make sure it returns <code>False</code>.</li><li>In futures mode, you can set <code>self.take_profit</code> and <code>self.stop_loss</code> in the <code>go_long()</code>. This means before opening a position you can set your exit targets. In the spot mode, however, fees are deducted from the assets you&#39;re trading. So we can&#39;t be sure about our position size (<code>qty</code>) until it&#39;s actually open. Hence, we made the decision to not allow for setting exit targets in the <code>go_long()</code> method when in the spot mode. Instead, you can do it inside the <a href="/docs/strategies/events.html#on-open-position-self-order">on_open_position()</a> method. Example:</li></ul><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">def</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">on_open_position</span><span style="color:#E1E4E8;">(self, order):</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.stop_loss </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.position.qty, </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.price </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.take_profit </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.position.qty, </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">.price </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">on_open_position</span><span style="color:#24292E;">(self, order):</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.stop_loss </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.position.qty, </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.price </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.take_profit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.position.qty, </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.price </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span></span></code></pre></div><ul><li>The <a href="/docs/strategies/api.html#leverage">self.leverage</a> property always returns 1 in spot trading mode. In fact, if you backtest a strategy in futures mode with leverage of 1, and only open long positions, you should get very similar results as if you had backtested it in the spot mode.</li><li>When Futures trading, your wallet balance (or <code>self.balance</code> in Jesse&#39;s API) only changes when a position is closed and the PNL is added or subtracted. It also does when fees are being charged. But in spot trading, it changes on order submission. In most cases this is not a problem; but nonetheless, if you&#39;re using the <a href="/docs/strategies/api.html#balance">self.balance</a> property in your strategies in a creative way, you should be aware of this.</li><li><a href="/docs/strategies/api.html#available-margin">self.available_margin</a> equals to <a href="/docs/strategies/api.html#balance">self.balance</a> in the spot trading mode.</li></ul>`,7),l=[n];function p(r,i,c,d,u,y){return e(),o("div",null,l)}const g=s(a,[["render",p]]);export{h as __pageData,g as default};
