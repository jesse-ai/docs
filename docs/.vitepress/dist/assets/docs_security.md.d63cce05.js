import{_ as s,o as a,c as n,Q as o}from"./chunks/framework.4719a631.js";const h=JSON.parse('{"title":"Security","description":"","frontmatter":{},"headers":[],"relativePath":"docs/security.md","filePath":"docs/security.md"}'),l={name:"docs/security.md"},e=o(`<h1 id="security" tabindex="-1">Security <a class="header-anchor" href="#security" aria-label="Permalink to &quot;Security&quot;">​</a></h1><p>If you are running the application on a remote server, you should secure the server so that no one except you has access to it. Because Jesse is a self-hosted application, it is not supposed to be accessible by the public. That makes it much easier to secure the application.</p><p>I will mention two methods here, but security is a big topic. Nonetheless, I think these two methods are enough.</p><h2 id="_1-password" tabindex="-1">1. Password <a class="header-anchor" href="#_1-password" aria-label="Permalink to &quot;1. Password&quot;">​</a></h2><p>Change the password (PASSWORD) in your .env file. Make sure to set it to something secure. You can use a <a href="https://passwordsgenerator.net" target="_blank" rel="noreferrer">password generator service</a> to generate a strong password.</p><h2 id="_2-limit-access-to-your-ip-address-via-the-firewall" tabindex="-1">2. Limit access to your IP address via the firewall <a class="header-anchor" href="#_2-limit-access-to-your-ip-address-via-the-firewall" aria-label="Permalink to &quot;2. Limit access to your IP address via the firewall&quot;">​</a></h2><p>The dashboard is supposed to be accessible only by you. That makes it easy to secure. So the best and easiest way is to close all incoming ports except for the ones you need. But even for ports that we need, it would be much safer if we could limit access to trusted IP addresses only.</p><p>This can be done via both a firewall from within the server or the firewall that your cloud provider provides (<a href="https://jesse.trade/hetzner" target="_blank" rel="noreferrer">Hetzner</a>, <a href="http://jesse.trade/digitalocean" target="_blank" rel="noreferrer">DigitalOcean</a>, etc).</p><h3 id="ufw-firewall" tabindex="-1">UFW Firewall <a class="header-anchor" href="#ufw-firewall" aria-label="Permalink to &quot;UFW Firewall&quot;">​</a></h3><p>If you are NOT using the Docker setup, you can use <strong>ufw</strong> which is a popular firewall that ships with Ubuntu 20.04:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># to see if ufw is installed and activated</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span></span>
<span class="line"><span style="color:#6A737D;"># if it&#39;s active, stop it:</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ufw</span></span>
<span class="line"><span style="color:#6A737D;"># allow all outgoing traffic</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">allow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">outgoing</span></span>
<span class="line"><span style="color:#6A737D;"># deny all incoming traffic</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">deny</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">incoming</span></span>
<span class="line"><span style="color:#6A737D;"># allow ssh port (22)</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">allow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ssh</span></span>
<span class="line"><span style="color:#6A737D;"># If you don&#39;t have specific IP addresses, you can open the targeted port</span></span>
<span class="line"><span style="color:#6A737D;"># (9000 by default) for all, but it&#39;s best to allow specific IP addresses only. </span></span>
<span class="line"><span style="color:#6A737D;"># Assuming your IP addresses are 1.1.1.1, 1.1.1.2, and 1.1.1.3, run:</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">allow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.1</span><span style="color:#9ECBFF;">.1.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">any</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">port</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9000</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">proto</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">allow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.1</span><span style="color:#9ECBFF;">.1.2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">any</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">port</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9000</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">proto</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">allow</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.1</span><span style="color:#9ECBFF;">.1.3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">any</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">port</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9000</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">proto</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp</span></span>
<span class="line"><span style="color:#6A737D;"># enable the firewall</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enable</span></span>
<span class="line"><span style="color:#6A737D;"># check the status</span></span>
<span class="line"><span style="color:#B392F0;">ufw</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">numbered</span></span>
<span class="line"><span style="color:#6A737D;"># restart ufw to apply the changes</span></span>
<span class="line"><span style="color:#B392F0;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ufw</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># to see if ufw is installed and activated</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span></span>
<span class="line"><span style="color:#6A737D;"># if it&#39;s active, stop it:</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ufw</span></span>
<span class="line"><span style="color:#6A737D;"># allow all outgoing traffic</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">default</span><span style="color:#24292E;"> </span><span style="color:#032F62;">allow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">outgoing</span></span>
<span class="line"><span style="color:#6A737D;"># deny all incoming traffic</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">default</span><span style="color:#24292E;"> </span><span style="color:#032F62;">deny</span><span style="color:#24292E;"> </span><span style="color:#032F62;">incoming</span></span>
<span class="line"><span style="color:#6A737D;"># allow ssh port (22)</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">allow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ssh</span></span>
<span class="line"><span style="color:#6A737D;"># If you don&#39;t have specific IP addresses, you can open the targeted port</span></span>
<span class="line"><span style="color:#6A737D;"># (9000 by default) for all, but it&#39;s best to allow specific IP addresses only. </span></span>
<span class="line"><span style="color:#6A737D;"># Assuming your IP addresses are 1.1.1.1, 1.1.1.2, and 1.1.1.3, run:</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">allow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.1</span><span style="color:#032F62;">.1.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">any</span><span style="color:#24292E;"> </span><span style="color:#032F62;">port</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9000</span><span style="color:#24292E;"> </span><span style="color:#032F62;">proto</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tcp</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">allow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.1</span><span style="color:#032F62;">.1.2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">any</span><span style="color:#24292E;"> </span><span style="color:#032F62;">port</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9000</span><span style="color:#24292E;"> </span><span style="color:#032F62;">proto</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tcp</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">allow</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.1</span><span style="color:#032F62;">.1.3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">any</span><span style="color:#24292E;"> </span><span style="color:#032F62;">port</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9000</span><span style="color:#24292E;"> </span><span style="color:#032F62;">proto</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tcp</span></span>
<span class="line"><span style="color:#6A737D;"># enable the firewall</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enable</span></span>
<span class="line"><span style="color:#6A737D;"># check the status</span></span>
<span class="line"><span style="color:#6F42C1;">ufw</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span><span style="color:#24292E;"> </span><span style="color:#032F62;">numbered</span></span>
<span class="line"><span style="color:#6A737D;"># restart ufw to apply the changes</span></span>
<span class="line"><span style="color:#6F42C1;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ufw</span></span></code></pre></div><h3 id="data-center-firewall" tabindex="-1">Data center Firewall <a class="header-anchor" href="#data-center-firewall" aria-label="Permalink to &quot;Data center Firewall&quot;">​</a></h3><p>UFW doesn&#39;t play nice with docker. Here is how to use Hetzner&#39;s firewall service which is free to use. Other data centers usually have similar firewall services.</p><p>Go into your server&#39;s page and click on the &quot;Firewalls&quot; tab and click on the &quot;CREATE FIREWALL&quot; button:</p><p><img src="https://api1.jesse.trade/storage/images/how-to-deploy-jesse-to-production/hetzner-firewall.jpg" alt="hetzner-firewall"></p><p>First, find your local machine&#39;s IP address by using a website such as <a href="http://icanhazip.com" target="_blank" rel="noreferrer">this one</a>.</p><p>Now remove the default values saying &quot;Any IPv4&quot; and &quot;Any IPv6&quot; by clicking on them and hitting the backspace button of your keyboard. Then, paste in your local machine&#39;s IP address.</p><p>We need two rules like this. Set the Protocol to TCP for both of them. The port number for one should be 22 which is the SSH port (so you can still SSH into your server). The port number for the other should be 9000 which is the dashboard port.</p><p>In the end, click on the &quot;CREATE FIREWALL&quot; button.</p><p><img src="https://api1.jesse.trade/storage/images/how-to-deploy-jesse-to-production/hetzner-firewall-rules.jpg" alt="hetzner-firewall-rules"></p><p>If you changed your IP address in the future, you can always update the firewall rules and add your new IP address. That is a good reason why using Hetzner&#39;s firewall is better than using a firewall from within the server.</p>`,21),p=[e];function t(r,c,y,i,E,u){return a(),n("div",null,p)}const d=s(l,[["render",t]]);export{h as __pageData,d as default};
